<!DOCTYPE html>
<html>

<head>
    <!-- CSS only -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        img {
            max-height: 80px;
            width: auto;
        }
    </style>
</head>

<body>
    <div class="container" style="margin-top: 10px;">
        <div>Persistindo cachorros.</div>
        <div class="row">
            <div class="col-md-6 col-sm-12">
                <table class="table table-striped" style="margin-top: 10px;">
                    <thead>
                        <tr>
                            <td>Foto</td>
                            <td>URL foto</td>
                        </tr>
                    </thead>
                    <tbody id="tbody-dog-facts"></tbody>
                </table>
            </div>
            <div class="col-md-6 col-sm-12">
                <canvas id="myChart" width="300px" height="250px"></canvas>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        window.onload = function () {
            window.dogCount = 0;

            window.dogInterval = window.setInterval(function () {
                if (window.dogCount === 10) {
                    window.clearInterval(window.dogInterval);
                    return;
                }

                window.dogCount++;

                fetch("https://dog.ceo/api/breeds/image/random", {
                    method: "GET",
                    mode: "cors"
                }).then(data => { return data.json(); })
                    .then(dog => {
                        var body = document.querySelector("#tbody-dog-facts");
                        var tr = document.createElement("TR");
                        var tdImg = document.createElement("TD");
                        var tdUrl = document.createElement("TD");
                        var link = document.createElement("a");
                        var img = document.createElement("IMG");

                        img.setAttribute("src", dog.message);

                        link.innerHTML = dog.message;
                        link.setAttribute("href", dog.message);

                        tdImg.appendChild(img);
                        tdUrl.appendChild(link);

                        tr.appendChild(tdImg);
                        tr.appendChild(tdUrl);

                        body.appendChild(tr);
                    });
            }, 2000);

            window.setTimeout(function () {
                const labels = [
                    'January',
                    'February',
                    'March',
                    'April',
                    'May',
                    'June',
                    'August',
                    'September',
                    'October',
                    'November',
                    'December'
                ];

                const data = {
                    labels: labels,
                    datasets: [{
                        label: 'My demo chart!',
                        backgroundColor: 'rgb(255, 99, 132)',
                        borderColor: 'rgb(255, 99, 132)',
                        data: [0, 25, 5, 10, 20, 30, 45, 50, 150, 155, 250, 300],
                    }]
                };

                const config = {
                    type: 'line',
                    data: data,
                    options: {}
                };

                var myChart = new Chart(
                    document.getElementById('myChart'),
                    config
                );
            }, 10000);
        }
    </script>
</body>

</html>